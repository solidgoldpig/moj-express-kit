{% extends 'admin/admin-base/admin-base.html' %}

{% block page_title %}
String - Prototype
{% endblock %}

{% block admin_content %}
{% if not type %}
{% set type = getElementProp(element, 'type') %}
{% endif %}
<p><a class="link-back" href="/admin/elements/{{ type }}">Back to {{ type }}</a></p>

<h1 class="heading-large">{{ type }}{% if prop %}.{{ prop }}{% endif %} - {{ element }}</h1>

{% if doesNotExist %}
<p>{{ element }} doesn't exist yet</p>
<p><a href="/admin/element/{{ element }}">Create {{ element }}</a></p>
{% else %}
<form method="post">
<textarea name="value" id="value" cols="80" rows="20">{{ value | safe}}</textarea>
<p><button class="button">Update element</button></p>
</form>
{% endif %}


<style type="text/css">
textarea {
  border: none;
  margin: 2em 0;
  background: #fcfcfc;
  padding: 1em;
}
</style>
{% endblock %}

{% block body_end_extra %}
var $textarea = jQuery('textarea')
$textarea.height('10px')
var textarea = $textarea.get(0)
var scrollHeight = textarea.scrollHeight
var padding = parseInt(window.getComputedStyle(textarea).paddingTop, 10) + parseInt(window.getComputedStyle(textarea).paddingBottom, 10)
scrollHeight -= padding
$textarea.height(scrollHeight+'px')
{% endblock %}