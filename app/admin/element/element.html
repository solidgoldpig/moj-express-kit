{% extends 'admin/admin-base/admin-base.html' %}

{% block page_title %}
Element - Prototype
{% endblock %}

{% block admin_content %}
{% set type = getElementProp(element, 'type') %}
<p><a class="link-back" href="/admin/elements/{{ type }}">Back to {{ type }}</a></p>

<h1 class="heading-large">Element - {{ element }}</h1>

<form method="post">
<textarea name="element" id="element" cols="80" rows="20">{{elementJSON | safe}}</textarea>
<p><button class="button">Update element</button></p>
</form>

{% if stringProps.length %}
<ul class="list list-bullet">
{% for prop in stringProps %}
<li><a href="/admin/element/{{ element }}/{{ prop }}">{{ prop }}</a></li>
{% endfor %}
</ul>
{% endif %}

<style type="text/css">
textarea {
  border: none;
  margin: 2em 0;
  background: #fcfcfc;
  padding: 1em;
}
</style>
{% endblock %}

{% block body_end_extra %}
var $textarea = jQuery('textarea')
$textarea.height('10px')
var textarea = $textarea.get(0)
var scrollHeight = textarea.scrollHeight
var padding = parseInt(window.getComputedStyle(textarea).paddingTop, 10) + parseInt(window.getComputedStyle(textarea).paddingBottom, 10)
scrollHeight -= padding
$textarea.height(scrollHeight+'px')
{% endblock %}